import os
import requests
from zipfile import ZipFile

# Define the URL of the GitHub repository
github_url = 'https://github.com/itwizardo/DCS-932L/archive/main.zip'
# Define the name of the zip file to download
zip_file_name = 'DCS-932L.zip'
# Define the name of the folder where files will be extracted
extracted_folder_name = 'DCS-932L-main'

# Download the repository as a zip file
response = requests.get(github_url)
with open(zip_file_name, 'wb') as zip_file:
    zip_file.write(response.content)

# Extract the downloaded zip file
with ZipFile(zip_file_name, 'r') as zip_ref:
    zip_ref.extractall()

# Path to the extracted folder
extracted_folder_path = os.path.join(os.getcwd(), extracted_folder_name)

# Path to the RSA file (serverkey.pem)
rsa_file_path = os.path.join(extracted_folder_path, 'etc_ro/serverkey.pem')

# Read the content of the RSA file
with open(rsa_file_path, 'r') as rsa_file:
    rsa_content = rsa_file.read()

# Write the content to rsa.txt
with open('rsa.txt', 'w') as output_file:
    output_file.write(rsa_content)

print("Output written to rsa.txt")
